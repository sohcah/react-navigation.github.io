/*! For license information please see a4e31e78.809e864d.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[236],{363:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return u})),n.d(t,"default",(function(){return p}));var a=n(1),r=n(9),i=(n(0),n(486)),o=n(488),s=n(489),c={id:"troubleshooting",title:"Troubleshooting",sidebar_label:"Troubleshooting"},l={id:"version-5.x/troubleshooting",title:"Troubleshooting",description:"This section attempts to outline issues that users frequently encounter when first getting accustomed to using React Navigation. These issues may or may not be related to React Navigation itself.",source:"@site/versioned_docs/version-5.x/troubleshooting.md",permalink:"/docs/troubleshooting",editUrl:"https://github.com/react-navigation/react-navigation.github.io/edit/source/versioned_docs/version-5.x/troubleshooting.md",version:"5.x",sidebar_label:"Troubleshooting",sidebar:"version-5.x/docs",previous:{title:"Compatibility layer",permalink:"/docs/compatibility"},next:{title:"Limitations",permalink:"/docs/limitations"}},u=[{value:"I&#39;m getting an error &quot;Unable to resolve module&quot; after updating to the latest version",id:"im-getting-an-error-unable-to-resolve-module-after-updating-to-the-latest-version",children:[{value:"Stale cache of Metro bundler",id:"stale-cache-of-metro-bundler",children:[]},{value:"Missing peer dependency",id:"missing-peer-dependency",children:[]},{value:"Missing extensions in metro configuration",id:"missing-extensions-in-metro-configuration",children:[]}]},{value:"I&#39;m getting &quot;SyntaxError in @react-navigation/xxx/xxx.tsx&quot; or &quot;SyntaxError: /xxx/@react-navigation/xxx/xxx.tsx: Unexpected token&quot;",id:"im-getting-syntaxerror-in-react-navigationxxxxxxtsx-or-syntaxerror-xxxreact-navigationxxxxxxtsx-unexpected-token",children:[]},{value:"I&#39;m getting &quot;Module &#39;...&#39; has no exported member &#39;xxx&#39; when using TypeScript",id:"im-getting-module--has-no-exported-member-xxx-when-using-typescript",children:[]},{value:"I&#39;m getting an error &quot;null is not an object (evaluating &#39;RNGestureHandlerModule.default.Direction&#39;)&quot;",id:"im-getting-an-error-null-is-not-an-object-evaluating-rngesturehandlermoduledefaultdirection",children:[]},{value:"Nothing is visible on the screen after adding a <code>View</code>",id:"nothing-is-visible-on-the-screen-after-adding-a-view",children:[]},{value:"I get the warning &quot;Non-serializable values were found in the navigation state&quot;",id:"i-get-the-warning-non-serializable-values-were-found-in-the-navigation-state",children:[]},{value:"App is not working properly when connected to Chrome Debugger",id:"app-is-not-working-properly-when-connected-to-chrome-debugger",children:[]}],b={rightToc:u};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"This section attempts to outline issues that users frequently encounter when first getting accustomed to using React Navigation. These issues may or may not be related to React Navigation itself."),Object(i.b)("p",null,"Before troubleshooting an issue, make sure that you have upgraded to ",Object(i.b)("strong",{parentName:"p"},"the latest available versions")," of the packages. You can install the latest versions by installing the packages again (e.g. ",Object(i.b)("inlineCode",{parentName:"p"},"npm install package-name"),")."),Object(i.b)("h2",{id:"im-getting-an-error-unable-to-resolve-module-after-updating-to-the-latest-version"},'I\'m getting an error "Unable to resolve module" after updating to the latest version'),Object(i.b)("p",null,"This might happen for 3 reasons:"),Object(i.b)("h3",{id:"stale-cache-of-metro-bundler"},"Stale cache of Metro bundler"),Object(i.b)("p",null,"If the module points to a local file (i.e. the name of the module starts with ",Object(i.b)("inlineCode",{parentName:"p"},"./"),"), then it's probably due to stale cache. To fix this, try the following solutions."),Object(i.b)("p",null,"If you're using Expo, run:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"expo start -c\n")),Object(i.b)("p",null,"If you're not using Expo, run:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"npx react-native start --reset-cache\n")),Object(i.b)("p",null,"If that doesn't work, you can also try the following:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"rm -rf $TMPDIR/metro-bundler-cache-*\n")),Object(i.b)("h3",{id:"missing-peer-dependency"},"Missing peer dependency"),Object(i.b)("p",null,"If the module points to an npm package (i.e. the name of the module doesn't with ",Object(i.b)("inlineCode",{parentName:"p"},"./"),"), then it's probably due to a missing peer dependency. To fix this, install the dependency in your project:"),Object(i.b)(o.a,{defaultValue:"npm",values:[{label:"npm",value:"npm"},{label:"Yarn",value:"yarn"}],mdxType:"Tabs"},Object(i.b)(s.a,{value:"npm",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"npm install name-of-the-module\n"))),Object(i.b)(s.a,{value:"yarn",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"yarn add name-of-the-module\n")))),Object(i.b)("p",null,"Sometimes it might even be due to a corrupt installation. If clearing cache didn't work, try deleting your ",Object(i.b)("inlineCode",{parentName:"p"},"node_modules")," folder and run ",Object(i.b)("inlineCode",{parentName:"p"},"npm install")," again."),Object(i.b)("h3",{id:"missing-extensions-in-metro-configuration"},"Missing extensions in metro configuration"),Object(i.b)("p",null,"Sometimes the error may look like this:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),'Error: While trying to resolve module "@react-navigation/native" from file "/path/to/src/App.js", the package "/path/to/node_modules/@react-navigation/native/package.json" was successfully found. However, this package itself specifies a "main" module field that could not be resolved ("/path/to/node_modules/@react-navigation/native/src/index.tsx"\n')),Object(i.b)("p",null,"This can happen if you have a custom configuration for metro and haven't specified ",Object(i.b)("inlineCode",{parentName:"p"},"ts")," and ",Object(i.b)("inlineCode",{parentName:"p"},"tsx")," as valid extensions. These extensions are present in the default configuration. To check if this is the issue, look for a ",Object(i.b)("inlineCode",{parentName:"p"},"metro.config.js")," file in your project and check if you have specified the ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://facebook.github.io/metro/docs/en/configuration#sourceexts"}),Object(i.b)("inlineCode",{parentName:"a"},"sourceExts"))," option. It should at least have the following configuration:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"sourceExts: ['js', 'json', 'ts', 'tsx'];\n")),Object(i.b)("p",null,"If it's missing these extensions, add them and then clear metro cache as shown in the section above."),Object(i.b)("h2",{id:"im-getting-syntaxerror-in-react-navigationxxxxxxtsx-or-syntaxerror-xxxreact-navigationxxxxxxtsx-unexpected-token"},'I\'m getting "SyntaxError in @react-navigation/xxx/xxx.tsx" or "SyntaxError: /xxx/@react-navigation/xxx/xxx.tsx: Unexpected token"'),Object(i.b)("p",null,"This might happen if you have an old version of the ",Object(i.b)("inlineCode",{parentName:"p"},"metro-react-native-babel-preset")," package. The easiest way to fix it is to delete your ",Object(i.b)("inlineCode",{parentName:"p"},"node_modules")," as well as lock file and reinstall your dependencies."),Object(i.b)("p",null,"If you use ",Object(i.b)("inlineCode",{parentName:"p"},"npm"),":"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"rm -rf node_modules\nrm package-lock.json\nnpm install\n")),Object(i.b)("p",null,"If you use ",Object(i.b)("inlineCode",{parentName:"p"},"yarn"),":"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"rm -rf node_modules\nrm yarn.lock\nyarn\n")),Object(i.b)("p",null,"You might also need to clear Metro bundler's cache following the instructions earlier in the page."),Object(i.b)("h2",{id:"im-getting-module--has-no-exported-member-xxx-when-using-typescript"},"I'm getting \"Module '","[...]","' has no exported member 'xxx' when using TypeScript"),Object(i.b)("p",null,"This might happen if you have an old version of TypeScript in your project. You can try upgrading it:"),Object(i.b)("p",null,"If you use ",Object(i.b)("inlineCode",{parentName:"p"},"npm"),":"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"npm install --save-dev typescript\n")),Object(i.b)("p",null,"If you use ",Object(i.b)("inlineCode",{parentName:"p"},"yarn"),":"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"yarn add --dev typescript\n")),Object(i.b)("h2",{id:"im-getting-an-error-null-is-not-an-object-evaluating-rngesturehandlermoduledefaultdirection"},"I'm getting an error \"null is not an object (evaluating 'RNGestureHandlerModule.default.Direction')\""),Object(i.b)("p",null,"This and some similar errors might occur if you didn't link the ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/software-mansion/react-native-gesture-handler"}),Object(i.b)("inlineCode",{parentName:"a"},"react-native-gesture-handler"))," library."),Object(i.b)("p",null,"Linking is automatic from React Native 0.60, so if you have linked the library manually, first unlink it:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"react-native unlink react-native-gesture-handler\n")),Object(i.b)("p",null,"If you're testing on iOS and use Mac, make sure you have run ",Object(i.b)("inlineCode",{parentName:"p"},"pod install")," in the ",Object(i.b)("inlineCode",{parentName:"p"},"ios/")," folder:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"cd ios\npod install\ncd ..\n")),Object(i.b)("p",null,"Now rebuild the app and test on your device or simulator."),Object(i.b)("h2",{id:"nothing-is-visible-on-the-screen-after-adding-a-view"},"Nothing is visible on the screen after adding a ",Object(i.b)("inlineCode",{parentName:"h2"},"View")),Object(i.b)("p",null,"If you wrap the container in a ",Object(i.b)("inlineCode",{parentName:"p"},"View"),", make sure the ",Object(i.b)("inlineCode",{parentName:"p"},"View")," stretches to fill the container using ",Object(i.b)("inlineCode",{parentName:"p"},"flex: 1"),":"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"import * as React from 'react';\nimport { View } from 'react-native';\nimport { NavigationContainer } from '@react-navigation/native';\n\nexport default function App() {\n  return (\n    <View style={{ flex: 1 }}>\n      <NavigationContainer>{/* ... */}</NavigationContainer>\n    </View>\n  );\n}\n")),Object(i.b)("h2",{id:"i-get-the-warning-non-serializable-values-were-found-in-the-navigation-state"},'I get the warning "Non-serializable values were found in the navigation state"'),Object(i.b)("p",null,"This can happen if you are passing non-serializable values such as class instances, functions etc. in params. React Navigation warns you in this case because this can break other functionality such ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/state-persistence"}),"state persistence"),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/deep-linking"}),"deep linking")," etc."),Object(i.b)("p",null,"Example of common use cases for passing functions in params are the following:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"To pass a callback to use in a header button. This can be achieved using ",Object(i.b)("inlineCode",{parentName:"li"},"navigation.setOptions")," instead. See the ",Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/header-buttons#header-interaction-with-its-screen-component"}),"guide for header buttons")," for examples."),Object(i.b)("li",{parentName:"ul"},"To pass a callback to the next screen which it can call to pass some data back. You can usually achieve it using ",Object(i.b)("inlineCode",{parentName:"li"},"navigate")," instead. See the ",Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/params"}),"guide for params")," for examples."),Object(i.b)("li",{parentName:"ul"},"To pass complex data to another screen. Instead of passing the data ",Object(i.b)("inlineCode",{parentName:"li"},"params"),", you can store that complex data somewhere else (like a global store), and pass an id instead. Then the screen can get the data from the global store using the id.")),Object(i.b)("p",null,"If you don't use state persistence or deep link to the screen which accepts functions in params, then the warning doesn't affect you and you can safely ignore it. To ignore the warning, you can use ",Object(i.b)("inlineCode",{parentName:"p"},"YellowBox.ignoreWarnings"),"."),Object(i.b)("p",null,"Example:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"import { YellowBox } from 'react-native';\n\nYellowBox.ignoreWarnings([\n  'Non-serializable values were found in the navigation state',\n]);\n")),Object(i.b)("h2",{id:"app-is-not-working-properly-when-connected-to-chrome-debugger"},"App is not working properly when connected to Chrome Debugger"),Object(i.b)("p",null,"When the app is connected to Chrome Debugger (or other tools that use Chrome Debugger such as ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/jhen0409/react-native-debugger"}),"React Native Debugger"),") you might encounter various issues related to timing."),Object(i.b)("p",null,"This can result in issues such as button presses taking a long time to register or not working at all, ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/facebook/react-native/issues/2367"}),"gestures and animations being slow and buggy")," etc. There can be other functional issues such as promises not resolving, ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/facebook/react-native/issues/4470"}),"timeouts and intervals not working correctly")," etc. as well."),Object(i.b)("p",null,"The issues are not related to React Navigation, but due to the nature of how the Chrome Debugger works. When connected to Chrome Debugger, your whole app runs on Chrome and communicates with the native app via sockets over the network, which can introduce latency and timing related issues."),Object(i.b)("p",null,"So, unless you are trying to debug something, it's better to test the app without being connected to the Chrome Debugger. If you are using iOS, you can alternatively use ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://reactnative.dev/docs/debugging#safari-developer-tools"}),"Safari to debug your app")," which debugs the app on the device directly and does not have these issues, though it has other downsides."))}p.isMDXComponent=!0},486:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),u=function(e){var t=r.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s({},t,{},e)),n},b=function(e){var t=u(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),b=u(n),d=a,h=b["".concat(o,".").concat(d)]||b[d]||p[d]||i;return n?r.a.createElement(h,s({ref:t},l,{components:n})):r.a.createElement(h,s({ref:t},l))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},487:function(e,t,n){var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a)&&a.length){var o=r.apply(null,a);o&&e.push(o)}else if("object"===i)for(var s in a)n.call(a,s)&&a[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},488:function(e,t,n){"use strict";n(23),n(17),n(18);var a=n(0),r=n.n(a),i=n(487),o=n.n(i),s=n(120),c=n.n(s),l=37,u=39;t.a=function(e){var t=e.block,n=e.children,i=e.defaultValue,s=e.values,b=Object(a.useState)(i),p=b[0],d=b[1],h=[];return r.a.createElement("div",null,r.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:o()("tabs",{"tabs--block":t})},s.map((function(e){var t=e.value,n=e.label;return r.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":p===t,className:o()("tab-item",c.a.tabItem,{"tab-item--active":p===t}),key:t,ref:function(e){return h.push(e)},onKeyDown:function(e){return function(e,t,n){switch(n.keyCode){case u:!function(e,t){var n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()}(e,t);break;case l:!function(e,t){var n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()}(e,t)}}(h,e.target,e)},onFocus:function(){return d(t)},onClick:function(){return d(t)}},n)}))),r.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},a.Children.toArray(n).filter((function(e){return e.props.value===p}))[0]))}},489:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(e){return r.a.createElement("div",null,e.children)}}}]);