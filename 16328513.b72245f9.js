(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{152:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return p})),n.d(t,"default",(function(){return l}));var a=n(1),r=n(9),o=(n(0),n(469)),i={id:"app-containers",title:"App containers",sidebar_label:"App containers"},c={id:"version-5.x/app-containers",title:"App containers",description:"Containers are responsible for managing your app state and linking your top-level navigator to the app environment.",source:"@site/versioned_docs/version-5.x/app-containers.md",permalink:"/docs/app-containers",editUrl:"https://github.com/react-navigation/react-navigation.github.io/edit/source/versioned_docs/version-5.x/app-containers.md",version:"5.x",sidebar_label:"App containers",sidebar:"version-5.x/docs",previous:{title:"Opening a full-screen modal",permalink:"/docs/modal"},next:{title:"Next steps",permalink:"/docs/next-steps"}},p=[{value:"Props of <code>NavigationContainer</code>",id:"props-of-navigationcontainer",children:[{value:"<code>onStateChange(newState)</code>",id:"onstatechangenewstate",children:[]},{value:"<code>initialState</code>",id:"initialstate",children:[]}]},{value:"Calling Dispatch or Navigate on App Container",id:"calling-dispatch-or-navigate-on-app-container",children:[]}],s={rightToc:p};function l(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Containers are responsible for managing your app state and linking your top-level navigator to the app environment."),Object(o.b)("p",null,"The container can notify state changes and can be used to persist and restore state. On Android, the app container uses the ",Object(o.b)("inlineCode",{parentName:"p"},"BackHandler")," module to handle the system back button."),Object(o.b)("p",null,"A quick example of ",Object(o.b)("inlineCode",{parentName:"p"},"NavigationContainer"),":"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"import { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\n\nconst Stack = createStackNavigator();\n\nfunction App() {\n  return (\n    <NavigationContainer>\n      <Stack.Navigator>{/* ... */}</Stack.Navigator>\n    </NavigationContainer>\n  );\n}\n\nexport default App;\n")),Object(o.b)("h2",{id:"props-of-navigationcontainer"},"Props of ",Object(o.b)("inlineCode",{parentName:"h2"},"NavigationContainer")),Object(o.b)("h3",{id:"onstatechangenewstate"},Object(o.b)("inlineCode",{parentName:"h3"},"onStateChange(newState)")),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"Note: Consider the navigator's state object to be internal and subject to change in a minor release. Avoid using properties from the navigation state object except ",Object(o.b)("inlineCode",{parentName:"p"},"index")," and ",Object(o.b)("inlineCode",{parentName:"p"},"routes"),", unless you really need it. If there is some functionality you cannot achieve without relying on the structure of the state object, please open an issue.")),Object(o.b)("p",null,"Function that gets called every time navigation state managed by the navigator changes. It receives the new state of the navigation."),Object(o.b)("h3",{id:"initialstate"},Object(o.b)("inlineCode",{parentName:"h3"},"initialState")),Object(o.b)("p",null,"Prop that accepts initial state for the navigator. This can be useful for cases such as deep linking, state persistence etc."),Object(o.b)("p",null,"Example:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"<NavigationContainer\n  onStateChange={state => console.log('New state is', state)}\n  initialState={initialState}\n>\n  {/* ... */}\n</NavigationContainer>\n")),Object(o.b)("h2",{id:"calling-dispatch-or-navigate-on-app-container"},"Calling Dispatch or Navigate on App Container"),Object(o.b)("p",null,"In case you want to dispatch actions on an app container, you can use a React ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://reactjs.org/docs/refs-and-the-dom.html#creating-refs"}),Object(o.b)("inlineCode",{parentName:"a"},"ref"))," to call the ",Object(o.b)("inlineCode",{parentName:"p"},"dispatch")," method on it:"),Object(o.b)("samp",{id:"using-refs"}),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"function App() {\n  const ref = React.useRef(null);\n\n  return (\n    <View style={{ flex: 1 }}>\n      <Button onPress={() => ref.current?.navigate('Home')}>Go home</Button>\n      <NavigationContainer ref={ref}>{/* ... */}</NavigationContainer>\n    </View>\n  );\n}\n")))}l.isMDXComponent=!0},469:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return g}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),l=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c({},t,{},e)),n},u=function(e){var t=l(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),u=l(n),d=a,g=u["".concat(i,".").concat(d)]||u[d]||b[d]||o;return n?r.a.createElement(g,c({ref:t},s,{components:n})):r.a.createElement(g,c({ref:t},s))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var c={};for(var p in t)hasOwnProperty.call(t,p)&&(c[p]=t[p]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var s=2;s<o;s++)i[s]=n[s];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);